setwd("~/github/ling573/eval")
setwd("~/github/ling573/eval")
# File for generating model analysis plots for ling 573 project
# File Arguments:
MODEL_NAME <- "wugNATSS-large(on-unsimp)" # The name of the Model whose output is being evaluated
GOLD_NAME <- "Gold" # The name of the Alternate Model to evaluate against (or just "Gold" if comparing to gold data)
MODEL_OUTPUT_PATH <- "../output/deliverable_4/wugNATSS-large/eval_on_unsimp.csv" # place to look for model output csv
GOLD_PATH <- "gold_lftk.csv" # place to look for gold data/alternate model data csv
HISTOGRAM_BINS <- 60
# Note about these arguments - "GOLD_NAME" and "GOLD_PATH" could be the output of a different
# model and not necessarily computed from reference data. It's a bad naming convention, but
# when you want to compare two models, put the second model output in the "GOLD_PATH" var and
# name it with "GOLD_NAME" accordingly.
# ----------------------------------------------------------------------- #
# Do not change these variables. These represent suffixes we expect to read in from csv headers
GOLD_SUFFIX <- ".GOLD"
GEN_SUFFIX <- ".GEN"
# ----------------------------------------------------------------------- #
# ----------------------------------------------------------------------- #
# ------------------------- (0) Setup Variables ------------------------- #
# ----------------------------------------------------------------------- #
# ----------------------------------------------------------------------- #
library(tidyr)
library(ggplot2)
library(stringr)
library(dplyr)
library(pastecs)
library(effsize)
# LFTK readability and other metrics of gold and generated summaries on test partition
# These two CSVs must have to same columns
lftk <- list()
lftk[["gold"]] <- read.csv(GOLD_PATH)
lftk[['gen']] <- read.csv(MODEL_OUTPUT_PATH)
# Refers to family of metrics. Includes LFTK and ROUGE. See README
family <- list()
family$wordsent <- c(
"t_word",
"t_stopword",
"t_punct",
"t_syll",
"t_syll2",
"t_syll3",
"t_uword",
"t_sent",
"t_char"
)
family$readformula <- c(
"fkre",
"fkgl",
"fogi",
"smog",
"cole",
"auto"
)
family$worddiff <- c(
"t_kup",
"t_bry",
"t_subtlex_us_zipf"
)
family$entity <- c(
"t_n_ent_law"
)
family$rouge <- c(
"rouge1_precision",
"rouge2_precision",
"rougeL_precision",
"rouge1_recall",
"rouge2_recall",
"rougeL_recall",
"rouge1_fmeasure",
"rouge2_fmeasure",
"rougeL_fmeasure"
)
lftk$gen$rouge1_precision
cohen.d(lftk$gen$fkre.GEN,lftk$gold$fkre.GOLD)
d <- capture.output(cohen.d(lftk$gen$fkre.GEN,lftk$gold$fkre.GOLD))
d
print(d)
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
MODEL_NAME
str_extract(MODEL_NAME,".+\\(.+\\)")
str_extract(MODEL_NAME,"(.+)\\(.+\\)")
str_extract(MODEL_NAME,"(.+)\\(.+\\)")[0]
str_extract(MODEL_NAME,"(.+)\(.+\)")
str_extract(MODEL_NAME,"(.+)\\(.+\\)")
str_extract(MODEL_NAME,"(billsum)\\(.+\\)")
str_extract(MODEL_NAME,"(billsum)\\(.+\\)",group=1)
str_extract(MODEL_NAME,"(.+)\\(.+\\)",group=1)
str_extract("Gold","(billsum)\\(.+\\)",group=1)
str_extract("Gold","(.+)\\(.+\\)",group=1)
str_extract("Gold(uio)","(.+)\\(.+\\)",group=1)
str_extract("Gold(uio)","(.+)\\(.+\\)?",group=1)
str_extract("Gold","(.+)\\(.+\\)?",group=1)
str_extract("Gold","(.+)(\\(.+\\))?",group=1)
str_extract("Goldoii(uuio989)","(.+)(\\(.+\\))?",group=1)
str_extract("Gold(uu)","(.+)(\\(.+\\))?",group=1)
str_extract("Gold(uu)","(.+)\\(.+\\)?",group=1)
str_extract("Gold(u8u)","(.+)\\(.+\\)?",group=1)
str_extract("Gold(u8u)","(.+)(\\(.+\\))?",group=1)
str_extract("Gold(u8u)","(.+)(\\(.+\\))?",group=2)
str_extract("Gold(u8u)","(.+)(\\(.+\\))?",group=0)
str_extract("Gold(u8u)","(.+)(\\(.+\\))?",group=1)
str_extract("Gold(u8u)","(.+)\\(.+\\)?",group=1)
str_extract("Gold(on-simp)","(.+)\\(.+\\)?",group=1)
str_extract("Gold","(.+)\\(.+\\)?",group=1)
str_extract("Gold","(.+)\\(.+\\)*",group=1)
str_extract("Gold","(.+)(\\(.+\\))*",group=1)
str_extract("Gold","(.+)(\\(.+\\))*",group=1)
str_extract("Gold(on-simp)","(.+)(\\(.+\\))*",group=1)
str_extract("Gold(on-simp)","(.+)(\\(.+\\))*",group=0)
str_extract("Gold(on-simp)","(.+)(\\(.+\\))*",group=1)
str_extract("Gold(on-simp)","((.+))(\\(.+\\))*",group=1)
str_extract("Gold(on-simp)","(.+)(\\(.+\\))*",group=1)
str_extract("Gold(on-simp)","(.+)\\(.+\\)",group=1)
str_extract("Gold(on-simp)","(.+)\\(.+\\)",group=1)
str_detect("Gold(on-simp)","(.+)\\(.+\\)",group=1)
str_detect("Gold(on-simp)","(.+)\\(.+\\)")
str_detect("Gold","(.+)\\(.+\\)")
str_extract("Gold(on-simp)","(.+)\\(.+\\)",group=1)
str_detect("Gold(on-simp)","(.+)\\(.+\\)")
str_detect("fjklfdjkd-sdflkjsdf(on-simp)","(.+)\\(.+\\)")
str_detect("fjklfdjkd-sdflkjsdf(on-simp","(.+)\\(.+\\)")
str_detect("fjklfdjkd-sdflkjsdf","(.+)\\(.+\\)")
source("~/github/ling573/eval/generate_analysis_files.R")
View(metrics$alt)
View(metrics$gen)
# File for generating model analysis plots for ling 573 project
# File Arguments:
MODEL_NAME <- "wugwATSS-billsum(on-unsimp)" # The name of the Model whose output is being evaluated
MODEL_OUTPUT_PATH <- "../output/deliverable_4/wugwATSS-billsum/eval_on_unsimp.csv" # place to look for model output csv
ALT_NAME <- "wugNATSS-billsum(on-unsimp)" # The name of the Alternate Model to evaluate against (or just "Gold" if comparing to gold data)
ALT_PATH <- "../output/deliverable_4/wugNATSS-billsum/eval_on_unsimp.csv" # place to look for gold data/alternate model data csv
ANALYSIS_PATH <- "deliverable_4/ATSS_vs_NATSS/wugwATSS-billsum_VS_wugNATSS-billsum/" # place to write the plots and stats to. Must end with a "/"
HISTOGRAM_BINS <- 60
# Note about these arguments - "ALT_NAME" and "ALT_PATH" could be the output of a different
# model and not necessarily computed from reference data. It's a bad naming convention, but
# when you want to compare two models, put the second model output in the "ALT_PATH" var and
# name it with "ALT_NAME" accordingly.
# ----------------------------------------------------------------------- #
# Do not change these variables. These represent suffixes we expect to read in from csv headers
ALT_SUFFIX <- ".GOLD"
GEN_SUFFIX <- ".GEN"
# ----------------------------------------------------------------------- #
# ----------------------------------------------------------------------- #
# ------------------------- (0) Setup Variables ------------------------- #
# ----------------------------------------------------------------------- #
# ----------------------------------------------------------------------- #
library(tidyr)
library(ggplot2)
library(stringr)
library(dplyr)
library(pastecs)
library(effsize)
# LFTK readability and other metrics of gold and generated summaries on test partition
# These two CSVs must have to same columns
metrics <- list() #store metrics for generated summaries and alternate summaries
metrics[["alt"]] <- read.csv(ALT_PATH)
metrics[['gen']] <- read.csv(MODEL_OUTPUT_PATH)
# Remove the redundant '.GOLD' lftk columns if included in file headers at MODEL_OUTPUT_PATH then
# set column names properly for processing
# metrics$alt <- metrics$alt %>% slice(1:16)
metrics$gen <- metrics$gen %>% select(-ends_with(ALT_SUFFIX))
colnames(metrics$alt) <- str_replace(colnames(metrics$alt),ALT_SUFFIX,"")
colnames(metrics$gen) <- str_replace(colnames(metrics$gen),GEN_SUFFIX,"")
View(metrics$alt)
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
source("~/github/ling573/eval/generate_analysis_files.R")
